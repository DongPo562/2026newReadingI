; ============================================================
; EnREAD 配置文件
; ============================================================

[Audio]
; 录音开始前的静音等待时间（秒）
start_silence_duration = 6
; 单次录音的最大时长（秒）
max_recording_duration = 30
; 静音检测阈值（分贝），低于此值视为静音
silence_threshold_db = -40
; 录音结束时的静音持续时间（秒），超过此时间自动停止
end_silence_duration = 1.5

[Paths]
; 录音文件保存目录
save_dir = audio

[UI]
; 悬浮球直径（像素）
ball_diameter = 56
; 面板宽度（像素）
panel_width = 230
; 面板最大高度（像素）
panel_max_height = 350
; 窗口透明度（0-1）
opacity = 0.9
; 动画持续时间（毫秒）
animation_duration = 250
; 字体大小（像素）
font_size = 15
; 文字颜色
text_color = #FFFFFF
; 播放按钮大小（像素）
play_button_size = 24
; 播放按钮颜色（默认状态）
play_button_color = #81D4FA
; 播放按钮颜色（播放中）
play_button_playing_color = #4CAF50
; 播放按钮颜色（暂停状态）
play_button_paused_color = #FF9800
; 播放中项目的背景色
item_playing_bg = rgba(0, 0, 0, 0.1)
; 暂停中项目的背景色
item_paused_bg = rgba(255, 152, 0, 0.1)
; 文件名最大显示字符数
max_filename_chars = 22
; 滚动条宽度（像素），0 表示隐藏
scrollbar_width = 0
; 列表项间距（像素）
item_spacing = 8
; 界面刷新间隔（毫秒）
refresh_interval = 2000
; 上次窗口位置（x,y）
last_position = 1190,516
; 顶部栏间距（像素）
top_bar_spacing = 10
; 模式按钮宽度（像素）
mode_btn_width = 55
; 模式按钮高度（像素）
mode_btn_height = 26
; 循环标签宽度（像素）
loop_lbl_width = 15
; 循环标签高度（像素）
loop_lbl_height = 26
; 开关控件宽度（像素）
toggle_width = 40
; 开关控件高度（像素）
toggle_height = 20

[PlayMode]
; 默认播放模式（mode1: 单曲播放, mode2: 循环播放）
default_mode = mode2
; 上次使用的播放模式
last_mode = mode2
; mode2 模式下的循环次数
mode2_loop_count = 3
; 是否启用自动播放
auto_enabled = True

[SlowAudio]
; 是否生成慢速音频版本
generate_slow_versions = true
; 慢速版本的速度（相对于原速的倍数）
slow_speeds = 0.5, 0.75

[WordGame]
; 触发单词游戏的最小文本长度（字符）
min_text_length = 30
; 可点击文本的颜色
clickable_text_color = #FFEB3B
; 游戏窗口宽度（像素）
game_window_width = 550
; 游戏窗口高度（像素）
game_window_height = 650
; 最少可选单词数量（少于此数无法进行游戏）
min_word_count = 2

[ContextMenu]
; 右键菜单背景色
bg_color = #2b2b2b
; 右键菜单文字颜色
text_color = #ffffff
; 右键菜单边框颜色
border_color = #3d3d3d
; 右键菜单悬停背景色
hover_bg_color = #3d3d3d
; 右键菜单字体大小（像素）
font_size = 14

[DateFilter]
; 日期筛选行高度（像素）
date_row_height = 30
; 下拉框宽度（像素）
dropdown_width = 100
; 下拉框左边距（像素）
dropdown_margin_left = 10
; 下拉框上边距（像素）
dropdown_margin_top = 5
; 空列表提示文本
empty_list_hint_text = 今天没有录音
; 空列表提示文字颜色
empty_list_hint_color = #888888
; 日期列表最多显示天数
max_display_dates = 15

[Cleanup]
; 清理延迟时间（秒），删除操作后延迟执行
cleanup_delay_seconds = 60

[Database]
; 数据库文件路径
db_path = data.db
; 是否启用 WAL（Write-Ahead Logging）模式
wal_mode = true
; 数据库繁忙超时时间（毫秒）
busy_timeout = 30000
; 操作失败时的重试次数
retry_count = 3

[ReviewWindow]
; 复习窗口宽度（像素）
window_width = 280
; 复习窗口高度（像素）
window_height = 120
; 复习窗口透明度（0-1）
opacity = 0.55
; 上次窗口位置 X 坐标
last_position_x = 721
; 上次窗口位置 Y 坐标
last_position_y = 0
; 单词字体大小（像素）
font_size = 18
; 单词文字颜色
word_color = #FFFFFF
; 盒子指示器颜色
box_indicator_color = #4A90D9
; Leitner 盒子 1 复习间隔（天）
box_1_interval = 1
; Leitner 盒子 2 复习间隔（天）
box_2_interval = 2
; Leitner 盒子 3 复习间隔（天）
box_3_interval = 4
; Leitner 盒子 4 复习间隔（天）
box_4_interval = 7
; Leitner 盒子 5 复习间隔（天）
box_5_interval = 14
; 最大盒子等级
max_box_level = 5
; 单词显示最大长度（字符），超过则截断
max_word_length = 35
; 悬停触发修饰键（alt/ctrl/shift）
hover_modifier_key = ctrl
; 循环检测间隔（毫秒）
loop_interval_ms = 100

[AltTrigger]
; 触发键，可选值: alt, ctrl, shift
trigger_key = alt
; 三击之间的间隔时间（秒）
triple_click_interval = 0.05
; 三击后等待时间（秒），等待文本选中完成
wait_after_triple_click = 0.15
; 触发键防抖动间隔（秒）
debounce_interval = 0.5
; Alt 键触发匹配成功后的播放次数（默认1次，可根据需要调整）
play_count = 1

[AutoRecord]
; 悬浮横条出现等待时间（秒），三击选中文本后等待 TTS 软件悬浮条出现
wait_for_toolbar = 0.5
; OCR 搜索区域上方偏移（像素），相对于鼠标位置向上搜索的距离
ocr_search_offset_y = 140
; OCR 搜索区域宽度（像素）
ocr_search_width = 800
; 自动补录完成后是否跟随主界面的自动播放设置
; true = 跟随主界面设置（主界面开了自动播放就播放）
; false = 强制不播放（无论主界面设置如何）
follow_main_autoplay = false

[ClickTrigger]
; 是否启用三连击触发Alt流程功能
; true = 三连击后模拟点击取消选中，然后触发Alt流程
; false = 三连击后不做任何反应
triple_click_to_alt_enabled = true
; 双击间隔阈值（秒），两次点击间隔小于此值视为连续点击
double_click_threshold = 0.5
; 多击等待时间（秒），检测到双击后等待更多点击的时间窗口
multi_click_wait = 0.25
; 拖拽距离阈值（像素），鼠标移动超过此距离视为拖拽
drag_distance_threshold = 5

[CtrlTrigger]
; 是否启用 Ctrl 长按录音功能
enabled = true
; Ctrl 键长按触发阈值（秒），达到后立即启动（不等释放）
hold_duration = 1.0
; 等待系统声音的超时时间（秒），超时则放弃录音
sound_detect_timeout = 2.0
; 重复文本时，系统声音结束后延迟播放已有录音的时间（秒）
duplicate_play_delay = 0.1

[ReviewWindow.Layout]
; 复习窗口宽度（像素）
window_width = 280
; 复习窗口高度（像素）
window_height = 120
; 第一行高度（像素）- 盒子指示器和开关区域
row1_height = 30
; 第二行高度（像素）- 统计信息区域
row2_height = 20
; 第三行高度（像素）- 单词显示区域
row3_height = 50
; 第四行高度（像素）- 操作按钮区域
row4_height = 40
; 左内边距（像素）
padding_left = 12
; 右内边距（像素）
padding_right = 12
; 上内边距（像素）
padding_top = 8
; 下内边距（像素）
padding_bottom = 8
; 元素间距（像素）
element_spacing = 10
; 播放按钮直径（像素）
play_btn_diameter = 28
; 操作按钮宽度（像素）
action_btn_width = 80
; 操作按钮高度（像素）
action_btn_height = 32
; 操作按钮间距（像素）
action_btn_spacing = 20
; 开关控件宽度（像素）
toggle_width = 36
; 开关控件高度（像素）
toggle_height = 18
; 开关关闭状态颜色
toggle_off_color = #555555
; 开关开启状态颜色
toggle_on_color = #4A90D9
; 开关滑块颜色
toggle_knob_color = #FFFFFF
; 单词字体大小覆盖（0 表示使用默认值）
word_font_size_override = 0

[QuizTrigger]
; 是否启用出题功能
enabled = true
; Ctrl+U 后的安全余量延迟时间（秒），仅用于确保按键事件传递完成
trigger_delay = 0.02
; NIM 平台 API 地址（OpenAI-compatible chat completions endpoint）
api_endpoint = https://integrate.api.nvidia.com/v1/chat/completions
; API 密钥（优先读取环境变量 NIM_API_KEY）
api_key =
; 请求超时时间（秒）
api_timeout = 30
; AI 失败时是否回退到本地出题
fallback_to_local = true
; Ctrl+U 防抖间隔（秒）
debounce_interval = 0.5
; 大模型选择（填写数字）：
;   1 = Kimi 2.5（moonshotai/kimi-k2.5）— 综合能力强，但热门排队慢
;       参数：temperature=0.7, top_p=1.0, max_tokens=1024
;   3 = DeepSeek V3.2（deepseek-ai/deepseek-v3.2）— NIM 平台
;       参数：temperature=1, top_p=0.95, max_tokens=8192
;   5 = MiniMax M2.1（minimaxai/minimax-m2.1）— 生成质量稳定
;       参数：temperature=1, top_p=0.95, max_tokens=8192
;   6 = GLM 4.7（z-ai/glm4.7）— 支持思维链模板参数
;       参数：temperature=1, top_p=1, max_tokens=16384
;       extra_body.chat_template_kwargs.enable_thinking=true
;       extra_body.chat_template_kwargs.clear_thinking=false
;   7 = Doubao Seed 1.8（doubao-seed-1-8-251228）— 火山引擎豆包大模型
;       参数：temperature=1, top_p=1, max_tokens=8192
;       endpoint=https://ark.cn-beijing.volces.com/api/v3/chat/completions
;       key_env=DOUBAO1.8_API_KEY
;   8 = DeepSeek Chat（deepseek-chat）— DeepSeek 官方 API
;       参数：temperature=1, top_p=0.95, max_tokens=8192
;       endpoint=https://api.deepseek.com/chat/completions
;       key_env=DEEPSEEK_API_KEY
; 说明：以上参数由代码内 MODEL_REGISTRY 管理，config.ini 仅选择 model_id。
model_id = 8
; 是否启用 reasoning（思维链）：
;   false = 优先返回最终答案，不使用 reasoning_content 兜底
;   true  = 允许使用 reasoning_content（更容易看到思考过程）
enable_reasoning = false
; 出题提示词模板文件（相对 config.ini 或绝对路径）
question_prompt_file = prompts/question_prompt.txt
; 批改提示词模板文件（相对 config.ini 或绝对路径）
grade_prompt_file = prompts/grade_prompt.txt

[QuizCard]
; 卡片宽度（像素）
window_width = 800
; 卡片高度（像素）
window_height = 400
; 透明度（0-1）
opacity = 0.9
; 题目字体大小（像素）
font_size = 16

[EmojiTrigger]
; 是否启用 emoji 插入触发器（触发方式: Alt+\）
enabled = true
; 触发键（默认反斜杠）
trigger_key = \
; 触发后的安全余量延迟（秒）
trigger_delay = 0.02
; 执行窗口（秒），窗口内的新触发被拒绝，窗口外的新触发会取消旧流程
execution_window_seconds = 8.0
; API 请求超时时间（秒）
api_timeout = 10
; AI 失败或无有效 emoji 时的降级插入
fallback_emoji = ❓
; 允许发送到 AI 的最大字符数
max_input_chars = 60
; 大模型选择（同 QuizTrigger 的 MODEL_REGISTRY）
model_id = 8
; 是否启用 reasoning（思维链）
enable_reasoning = false
; Emoji 提示词模板文件（相对 config.ini 或绝对路径）
emoji_prompt_file = prompts/emoji_prompt.txt
